<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>
<?import javafx.geometry.Insets?>
<?import javafx.scene.text.Text?>

<VBox xmlns="http://javafx.com/javafx/21" xmlns:fx="http://javafx.com/fxml/1"
      fx:controller="com.iit.dp.dp_pos.controller.CreateSaleController"
      spacing="20.0" style="-fx-background-color: linear-gradient(to bottom right, #f5f7fa, #c3cfe2); -fx-padding: 30;">
    <!-- Header Section -->
    <HBox alignment="CENTER_LEFT" spacing="20" style="-fx-background-color: rgba(255,255,255,0.95); -fx-background-radius: 15px; -fx-padding: 20; -fx-effect: dropshadow(gaussian, rgba(0,0,0,0.1), 10,0,0,2);">
        <Button fx:id="backButton" text="â† Back"
                style="-fx-background-color: #6c757d; -fx-text-fill: white; -fx-background-radius: 8px; -fx-padding: 8 18; -fx-font-weight: bold;" />
        <Label text="ðŸ›’ Create Sale" style="-fx-font-size: 28px; -fx-font-weight: bold; -fx-text-fill: #1976d2;" />
        <Region HBox.hgrow="ALWAYS"/>
        <Label fx:id="dateTimeLabel" style="-fx-font-size: 14;" />
    </HBox>

    <!-- Main Content: Two Cards Side by Side -->
    <HBox spacing="30" alignment="TOP_CENTER" style="-fx-padding: 0 0 0 0;">
        <!-- Products Card -->
        <VBox spacing="15" alignment="TOP_CENTER" style="-fx-background-color: rgba(255,255,255,0.97); -fx-background-radius: 15px; -fx-padding: 24; -fx-effect: dropshadow(gaussian, rgba(0,0,0,0.07), 8,0,0,2); -fx-min-width: 420;">
            <Label text="Available Products" style="-fx-font-size: 20; -fx-font-weight: bold; -fx-text-fill: #1976d2;" />
            <TextField fx:id="searchField" promptText="Search products..." style="-fx-background-radius: 8px; -fx-border-radius: 8px; -fx-border-color: #ddd; -fx-background-color: white; -fx-padding: 8 12;" />
            <TableView fx:id="productTable" VBox.vgrow="ALWAYS" style="-fx-background-color: transparent;">
                <placeholder>
                    <Label text="No products available" style="-fx-font-size: 16px; -fx-text-fill: #999;" />
                </placeholder>
            </TableView>
            <Label text="Double-click product to add to cart" style="-fx-font-style: italic; -fx-text-fill: #888;" />
        </VBox>

        <!-- Cart & Customer Card -->
        <VBox spacing="15" alignment="TOP_CENTER" style="-fx-background-color: rgba(255,255,255,0.97); -fx-background-radius: 15px; -fx-padding: 24; -fx-effect: dropshadow(gaussian, rgba(0,0,0,0.07), 8,0,0,2); -fx-min-width: 420;">
            <Label text="Customer Information" style="-fx-font-size: 20; -fx-font-weight: bold; -fx-text-fill: #1976d2;" />
            <GridPane vgap="8" hgap="12" style="-fx-padding: 0 0 10 0;">
                <Label text="Email:" GridPane.columnIndex="0" GridPane.rowIndex="0" />
                <TextField fx:id="customerEmailField" promptText="Enter customer email" GridPane.columnIndex="1" GridPane.rowIndex="0" GridPane.hgrow="ALWAYS" />
                <Label text="Name:" GridPane.columnIndex="0" GridPane.rowIndex="1" />
                <TextField fx:id="customerNameField" promptText="Enter customer name" GridPane.columnIndex="1" GridPane.rowIndex="1" GridPane.hgrow="ALWAYS" />
            </GridPane>
            <Label text="Shopping Cart" style="-fx-font-size: 20; -fx-font-weight: bold; -fx-text-fill: #1976d2;" />
            <TableView fx:id="cartTable" VBox.vgrow="ALWAYS" style="-fx-background-color: transparent;">
                <placeholder>
                    <Label text="Cart is empty" style="-fx-font-size: 16px; -fx-text-fill: #999;" />
                </placeholder>
            </TableView>
            <HBox alignment="CENTER_RIGHT" spacing="10">
                <Label fx:id="totalLabel" text="Total: $0.00" style="-fx-font-size: 20; -fx-font-weight: bold; -fx-text-fill: #4CAF50;" />
            </HBox>
            <HBox alignment="CENTER_RIGHT" spacing="10">
                <Button fx:id="clearCartButton" text="Clear Cart" style="-fx-background-color: #FFC107; -fx-text-fill: #333; -fx-background-radius: 8px; -fx-padding: 8 18; -fx-font-weight: bold;" />
                <Button fx:id="checkoutButton" text="Checkout" style="-fx-background-color: #4CAF50; -fx-text-fill: white; -fx-background-radius: 8px; -fx-padding: 8 18; -fx-font-weight: bold;" />
            </HBox>
        </VBox>
    </HBox>
</VBox>
